---

title: Criteria


keywords: fastai
sidebar: home_sidebar



nb_path: "notebooks/criteria/0_criteria.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: notebooks/criteria/0_criteria.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Criterion" class="doc_header"><code>class</code> <code>Criterion</code><a href="dl4to/criteria.py#L12" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Criterion</code>(<strong><code>name</code></strong>:<code>str</code>, <strong><code>supervised</code></strong>:<code>bool</code>, <strong><code>differentiable</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>lower_is_better</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>compute_only_on_design_space</code></strong>:<code>bool</code>=<em><code>True</code></em>)</p>
</blockquote>
<p>A parent class that inherits all criteria for both classical and learned methods. Criteria can be used as objective or loss functions, as well as evaluation metrics.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>name</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>The name of this criterion which will be monitored in logging.</td>
</tr>
<tr>
<td><strong><code>supervised</code></strong></td>
<td><code>bool</code></td>
<td></td>
<td>Whether the criterion is supervised or not.</td>
</tr>
<tr>
<td><strong><code>differentiable</code></strong></td>
<td><code>bool</code></td>
<td><code>True</code></td>
<td>Whether the criterion is differentiable or not. Only differentiable criteria can be used as loss/objective functions.</td>
</tr>
<tr>
<td><strong><code>lower_is_better</code></strong></td>
<td><code>bool</code></td>
<td><code>True</code></td>
<td>Whether lower values of the criterion correspond to better scores.</td>
</tr>
<tr>
<td><strong><code>compute_only_on_design_space</code></strong></td>
<td><code>bool</code></td>
<td><code>True</code></td>
<td>Whether the criterion should be evaluated on voxels that have a design space information of -1, i.e., the voxels can be freely optimized. This parameter does not effect all criteria.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Criterion.get_θ_flat" class="doc_header"><code>Criterion.get_θ_flat</code><a href="dl4to/criteria.py#L51" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Criterion.get_θ_flat</code>(<strong><code>solutions</code></strong>:<code>list</code>, <strong><code>binary</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>
<p>Returns a flattened density distribution tensor from the passed solutions.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>solutions</code></strong></td>
<td><code>list</code></td>
<td></td>
<td>A list of solutions from which the densities are extracted and flattened into one output tensor.</td>
</tr>
<tr>
<td><strong><code>binary</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Whether the densities should be binarized.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Criterion.get_design_space_mask" class="doc_header"><code>Criterion.get_design_space_mask</code><a href="dl4to/criteria.py#L63" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Criterion.get_design_space_mask</code>(<strong><code>solutions</code></strong>:<code>list</code>)</p>
</blockquote>
<p>Returns a flattened design space mask from the passed solutions. If <code>compute_only_on_design_space=False</code>, then a ones-vector is returned.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>solutions</code></strong></td>
<td><code>list</code></td>
<td></td>
<td>A list of solutions from which the design space mask is extracted and combined into a single output tensor.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Criterion.__call__" class="doc_header"><code>Criterion.__call__</code><a href="dl4to/criteria.py#L77" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Criterion.__call__</code>(<strong><code>solutions</code></strong>:<code>list</code>, <strong><code>gt_solutions</code></strong>:<code>list</code>=<em><code>None</code></em>, <strong><code>binary</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>
<p>Calculates the output of the criterion for all solutions. The gt_solutions are only used if <code>self.criterion.supervised=True</code>.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>solutions</code></strong></td>
<td><code>list</code></td>
<td></td>
<td>The solutions that should be evaluated with the criterion.</td>
</tr>
<tr>
<td><strong><code>gt_solutions</code></strong></td>
<td><code>list</code></td>
<td><code>None</code></td>
<td>Ground truth solutions that are compared element-wise with the <code>solutions</code>. Only used if <a href="/dl4tocriteria.html#Criterion.supervised=True"><code>Criterion.supervised=True</code></a>.</td>
</tr>
<tr>
<td><strong><code>binary</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Whether the criterion should be evaluated on binarized densities. Does not have an effect on some criteria.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Criterion.__add__" class="doc_header"><code>Criterion.__add__</code><a href="dl4to/criteria.py#L88" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Criterion.__add__</code>(<strong><code>criterion</code></strong>:<code>dl4to.criteria.Criterion</code>)</p>
</blockquote>
<p>The summation of two criteria results in a new combined criterion. Returns a <code>dl4to.criteria.CombinedCriterion</code> object.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>criterion</code></strong></td>
<td><code>dl4to.criteria.Criterion</code></td>
<td></td>
<td>A second criterion that should be combined with the current one.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Criterion.__mul__" class="doc_header"><code>Criterion.__mul__</code><a href="dl4to/criteria.py#L107" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Criterion.__mul__</code>(<strong><code>λ</code></strong>:<code>float</code>)</p>
</blockquote>
<p>The multiplication of a criterion with a scalar results in a weighted criterion. Returns a <code>dl4to.criteria.WeightedCriterion</code> object.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>λ</code></strong></td>
<td><code>float</code></td>
<td></td>
<td>The multiplier which the criterion is weighted with.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="WeightedCriterion" class="doc_header"><code>class</code> <code>WeightedCriterion</code><a href="dl4to/criteria.py#L116" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>WeightedCriterion</code>(<strong><code>criterion</code></strong>:<code>dl4to.criteria.Criterion</code>, <strong><code>λ</code></strong>:<code>float</code>) :: <a href="/dl4tocriteria.html#Criterion"><code>Criterion</code></a></p>
</blockquote>
<p>A class that represents a criterion that has a weight factor in front of it. This is especially useful for constrained optimization or regularization.
Note that the unweighted criterion can be accessed via <code>self.criterion</code>.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>criterion</code></strong></td>
<td><code>dl4to.criteria.Criterion</code></td>
<td></td>
<td>The criterion object that is being weighted.</td>
</tr>
<tr>
<td><strong><code>λ</code></strong></td>
<td><code>float</code></td>
<td></td>
<td>The weighting factor for the criterion.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="CombinedCriterion" class="doc_header"><code>class</code> <code>CombinedCriterion</code><a href="dl4to/criteria.py#L149" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>CombinedCriterion</code>(<strong><code>criterion1</code></strong>:<code>dl4to.criteria.Criterion</code>, <strong><code>criterion2</code></strong>:<code>dl4to.criteria.Criterion</code>) :: <a href="/dl4tocriteria.html#Criterion"><code>Criterion</code></a></p>
</blockquote>
<p>A class that represents the combination of two criteria by a plus sign "+" between them. Both individual criteria can be accessed via <code>self.criterion1</code> and <code>self.criterion2</code>.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>criterion1</code></strong></td>
<td><code>dl4to.criteria.Criterion</code></td>
<td></td>
<td>The first criterion of the summation.</td>
</tr>
<tr>
<td><strong><code>criterion2</code></strong></td>
<td><code>dl4to.criteria.Criterion</code></td>
<td></td>
<td>The second criterion of the summation.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

</div>
 

