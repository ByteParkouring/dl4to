---

title: Solution


keywords: fastai
sidebar: home_sidebar



nb_path: "notebooks/solution/1_solution.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: notebooks/solution/1_solution.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This class defines solutions to instances of the Problem class. They usually result from calling a topo_solver with a problem object, but can also be instantiated manually by passing a problem and a density distribution.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Solution" class="doc_header"><code>class</code> <code>Solution</code><a href="dl4to/solution.py#L127" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Solution</code>(<strong><code>problem</code></strong>:<code>dl4to.problem.Problem</code>, <strong><code>θ</code></strong>:<code>Tensor</code>, <strong><code>name</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>enforce_θ_on_Ω_design</code></strong>:<code>bool</code>=<em><code>True</code></em>)</p>
</blockquote>
<p>A class that defines solution objects.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>problem</code></strong></td>
<td><code>dl4to.problem.Problem</code></td>
<td></td>
<td>The problem to which this is a solution.</td>
</tr>
<tr>
<td><strong><code>θ</code></strong></td>
<td><code>Tensor</code></td>
<td></td>
<td>The tensor that defines a density distribution that solves the TO problem.</td>
</tr>
<tr>
<td><strong><code>name</code></strong></td>
<td><code>str</code></td>
<td><code>None</code></td>
<td>The name of the solution.</td>
</tr>
<tr>
<td><strong><code>enforce_θ_on_Ω_design</code></strong></td>
<td><code>bool</code></td>
<td><code>True</code></td>
<td>Whether the density distribution should be modified such that it fulfills the density restrictions imposed by the problem object.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Methods">Methods<a class="anchor-link" href="#Methods"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Solution.get_θ" class="doc_header"><code>Solution.get_θ</code><a href="dl4to/solution.py#L214" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Solution.get_θ</code>(<strong><code>binary</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>
<p>Returns the density distribution <code>θ</code> from the solution object. Note that you can also obtain that density via <a href="/dl4tosolution.html#Solution.θ"><code>Solution.θ</code></a>, however this function has the option to return
a binarized version of it.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>binary</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Whether the density should be binarized, i.e., thresholded at 0.5</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Solution.clone" class="doc_header"><code>Solution.clone</code><a href="dl4to/solution.py#L228" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Solution.clone</code>()</p>
</blockquote>
<p>Returns a deepcopy of the Solution object.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Solution.detach" class="doc_header"><code>Solution.detach</code><a href="dl4to/solution.py#L238" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Solution.detach</code>()</p>
</blockquote>
<p>Returns a clone of the solution object that has a density θ which is detached from its computational graph.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Solution.detach_" class="doc_header"><code>Solution.detach_</code><a href="dl4to/solution.py#L247" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Solution.detach_</code>()</p>
</blockquote>
<p>Detaches θ from its computational graph. This is an in-place version of the <code>detach()</code> method.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Solution.plot" class="doc_header"><code>Solution.plot</code><a href="dl4to/solution.py#L254" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Solution.plot</code>(<strong><code>binary</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>solve_pde</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>normalize_σ_vm</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>threshold</code></strong>:<code>float</code>=<em><code>0.0</code></em>, <strong><code>display</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>file_path</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>camera_position</code></strong>:<code>tuple</code>=<em><code>(0, 0.1, 0.12)</code></em>, <strong><code>show_design_space</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>use_pyvista</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>window_size</code></strong>:<code>Union</code>[<code>tuple</code>, <code>list</code>]=<em><code>(800, 800)</code></em>, <strong><code>smooth_iters</code></strong>:<code>int</code>=<em><code>0</code></em>, <strong><code>show_colorbar</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>show_axislabels</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>show_ticklabels</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>export_png</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>
<p>Renders a 3D figure that displays the density distribution and, optionally, additional ones that display the displacements and von Mises stresses for that density.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>binary</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Whether the density should be binarized before plotting and before solving the PDE. Note that the PDE is solved only if <code>solve_pde=True</code> and problem has a PDE solver attached to it.</td>
</tr>
<tr>
<td><strong><code>solve_pde</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Whether to solve the PDE of linear elasticity and plot the absolute displacements and von Mises stresses.</td>
</tr>
<tr>
<td><strong><code>normalize_σ_vm</code></strong></td>
<td><code>bool</code></td>
<td><code>True</code></td>
<td>Whether the von Mises stresses should be normalized with the yield stress.</td>
</tr>
<tr>
<td><strong><code>threshold</code></strong></td>
<td><code>float</code></td>
<td><code>0.0</code></td>
<td>Density threshold below which voxels should be displayed as empty.</td>
</tr>
<tr>
<td><strong><code>display</code></strong></td>
<td><code>bool</code></td>
<td><code>True</code></td>
<td>Whether the figure is displayed.</td>
</tr>
<tr>
<td><strong><code>file_path</code></strong></td>
<td><code>str</code></td>
<td><code>None</code></td>
<td>Path where the figure is saved.</td>
</tr>
<tr>
<td><strong><code>camera_position</code></strong></td>
<td><code>tuple</code></td>
<td><code>(0, 0.1, 0.12)</code></td>
<td>x, y, and z coordinates of the camera position.</td>
</tr>
<tr>
<td><strong><code>show_design_space</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Whether to highlight the voxels that have a design space information of -1 assigned to them.</td>
</tr>
<tr>
<td><strong><code>use_pyvista</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Whether to use pyvista for plotting. If <code>False</code>, then plotly is used. Pyvista generates better looking visualizations, but does not support basic features like colorbars, title display and saving.</td>
</tr>
<tr>
<td><strong><code>window_size</code></strong></td>
<td><code>typing.Union[tuple, list]</code></td>
<td><code>(800, 800)</code></td>
<td>The size of the window that displays the plot. Only has an effect if <code>use_pyvista=True</code>.</td>
</tr>
<tr>
<td><strong><code>smooth_iters</code></strong></td>
<td><code>int</code></td>
<td><code>0</code></td>
<td>The number of smoothing iterations for better looking visualizations. Only has an effect if <code>use_pyvista=True</code>.</td>
</tr>
<tr>
<td><strong><code>show_colorbar</code></strong></td>
<td><code>bool</code></td>
<td><code>True</code></td>
<td>Determines whether a reference colorbar is displayed for the plotted voxel color values.</td>
</tr>
<tr>
<td><strong><code>show_axislabels</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Whether the 3d axes are labelled with their dimensions.</td>
</tr>
<tr>
<td><strong><code>show_ticklabels</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Whether the 3d axes ticks are displayed and labeled.</td>
</tr>
<tr>
<td><strong><code>export_png</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Whether the figure is exported and saved as a png file, in addition to the standard html format.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Solution.solve_pde" class="doc_header"><code>Solution.solve_pde</code><a href="dl4to/solution.py#L295" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Solution.solve_pde</code>(<strong><code>p</code></strong>:<code>float</code>=<em><code>1.0</code></em>, <strong><code>binary</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>
<p>Solves the PDE of linear elasticity for the current solution. Returns the displacement tensor, stress tensor and the von Mises stress tensor.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>p</code></strong></td>
<td><code>float</code></td>
<td><code>1.0</code></td>
<td>Denotes the SIMP exponent and should usually be left at its default value of 1.</td>
</tr>
<tr>
<td><strong><code>binary</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Whether the density should be binarized before solving the PDE.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Solution.eval" class="doc_header"><code>Solution.eval</code><a href="dl4to/solution.py#L336" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Solution.eval</code>(<strong><code>criterion</code></strong>:<code>dl4to.criteria.Criterion</code>)</p>
</blockquote>
<p>Evaluate the solution object with <code>criterion</code>. Only works for unsupervised criteria. Returns a <code>torch.Tensor</code>.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>criterion</code></strong></td>
<td><code>dl4to.criteria.Criterion</code></td>
<td></td>
<td>The criterion for which the solution should be evaluated.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Solution.__mul__" class="doc_header"><code>Solution.__mul__</code><a href="dl4to/solution.py#L357" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Solution.__mul__</code>(<strong><code>λ</code></strong>:<code>float</code>)</p>
</blockquote>
<p>Multiplication of a solution with a scalar returns a clone of the solution that has the original density distribution that is rescaled with <code>λ</code>. Returns a new <code>solution</code> object.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>λ</code></strong></td>
<td><code>float</code></td>
<td></td>
<td>The multiplier for the density.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Examples">Examples<a class="anchor-link" href="#Examples"> </a></h1>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">dl4to.solution</span> <span class="kn">import</span> <span class="n">Solution</span>
<span class="kn">from</span> <span class="nn">dl4to.datasets</span> <span class="kn">import</span> <span class="n">BasicDataset</span>

<span class="n">problem</span> <span class="o">=</span> <span class="n">BasicDataset</span><span class="p">(</span><span class="n">resolution</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span><span class="o">.</span><span class="n">ledge</span><span class="p">()</span>
<span class="n">shape</span> <span class="o">=</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
<span class="n">θ</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">*</span><span class="n">shape</span><span class="p">)</span>
<span class="n">solution_zeros</span> <span class="o">=</span> <span class="n">Solution</span><span class="p">(</span><span class="n">problem</span><span class="p">,</span> <span class="n">θ</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">camera_position</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.35</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span>
<span class="n">solution_zeros</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">camera_position</span><span class="o">=</span><span class="n">camera_position</span><span class="p">,</span>
                    <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://dl4to.github.io/dl4to/images/1_zero_density.png" alt="zero_density"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As we can see, the density distribution $\theta$ has been modified inside of the solution object such that it is not $0$ everywhere anymore. More precisely, it has been adjusted according to the design space information that we prescribed in the problem formulation: We enforced densities of $1$ at certain voxels by setting $\Omega_\text{dirichlet}$ to $1$.</p>
<p>We can check that the density distribution inside of the solution object has indeed been modified and this is not just the visualization:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">torch</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">solution_zeros</span><span class="o">.</span><span class="n">θ</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">torch</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">θ</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The easiest type of solution is what we call a "trivial solution". The density distribution of a trivial solution in $1$ everywhere, where it is permitted (i.e. where $\Omega_\text{design}$ is not $0$). Together with the zero-density example above this therefore constitutes the simplest solution to a TO problem - we simply choose the thickest possible structure!</p>
<p>Each problem object directly comes with its own trivial solution. It can be accessed via:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trivial_solution</span> <span class="o">=</span> <span class="n">problem</span><span class="o">.</span><span class="n">trivial_solution</span>

<span class="n">trivial_solution</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">camera_position</span><span class="o">=</span><span class="n">camera_position</span><span class="p">,</span>
                      <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://dl4to.github.io/dl4to/images/1_trivial_density.png" alt="trivial_density"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In order to evaluate the stresses we need to solve the partial differential equation (PDE) of linear elasticity. This library comes with its own in-built finite differences method (FDM) solver, which solves the PDE for us. We found handling with finite differences easier than with finite elements. This is attributed to the regular grid structure, which makes the FDM a suitable and intuitive approach. It is however also possible to include custom PDE solvers, e.g., learned PDE solvers - which we will discuss later.</p>
<p>PDE solvers are passed to problem instances:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">dl4to.pde</span> <span class="kn">import</span> <span class="n">FDM</span>

<span class="n">problem</span><span class="o">.</span><span class="n">pde_solver</span> <span class="o">=</span> <span class="n">FDM</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Passing PDE solvers to problems (instead of passing them to solutions or TO solvers) my seem unintuitive at first, but it comes with several advantages:
First, all solution objects that are derived from this problem will also have access to the PDE solver. The same holds for all TO solver algorithms that we apply to this problem. Second, our implementation automatically constructs most of the PDE system matrix in the background when it is passed to a problem. This saves a lot of time for all future evaluations.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can now use this FDM solver to solve the PDE. This is done via the "solve_pde" command, which returns three tensors:</p>
<ul>
<li>The displacements $u$, which is a ($3\times n_x \times n_y \times n_z$)-tensor.</li>
<li>The stresses $\sigma$, which is a symmetric ($9\times n_x \times n_y \times n_z$)-tensor.</li>
<li>The von Mises stresses $\sigma_\text{vM}$, which is a ($1\times n_x \times n_y \times n_z$)-tensor, i.e., a scalar field.</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">u</span><span class="p">,</span> <span class="n">σ</span><span class="p">,</span> <span class="n">σ_vm</span> <span class="o">=</span> <span class="n">trivial_solution</span><span class="o">.</span><span class="n">solve_pde</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>After the PDE has been solved for a solution, the displacements $u$ are stored inside the solution object and can be accessed via "trivial_solution.u". This avoids solving the same PDE several times.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In order to check if the von Mises stresses are too large, we need to compare its maximum to the yield stress $\sigma_\text{ys}$ of the material:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">σ_vm</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">/</span> <span class="n">problem</span><span class="o">.</span><span class="n">σ_ys</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>tensor(0.0198)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Since the fraction returns a value below $1$, this indicates that the structure indees holds the applied forces and does not break!</p>
<p>We can also visualize the spacial distribution of the (normed) displacements and von Mises stresses by passing "solve_pde=True" to the plotting function:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trivial_solution</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">camera_position</span><span class="o">=</span><span class="n">camera_position</span><span class="p">,</span>
                      <span class="n">solve_pde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                      <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://dl4to.github.io/dl4to/images/1_trivial_density_theta.png" alt="trivial_density_theta">
<img src="https://dl4to.github.io/dl4to/images/1_trivial_density_u.png" alt="trivial_density_u">
<img src="https://dl4to.github.io/dl4to/images/1_trivial_density_stress.png" alt="trivial_density_stress"></p>

</div>
</div>
</div>
</div>
 

