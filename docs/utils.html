---

title: Utils


keywords: fastai
sidebar: home_sidebar



nb_path: "notebooks/utils/utils.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: notebooks/utils/utils.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_current_datetime_as_string" class="doc_header"><code>get_current_datetime_as_string</code><a href="dl4to/utils.py#L54" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_current_datetime_as_string</code>()</p>
</blockquote>
<p>Determines and returns a string containing the current date and time.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="create_dir" class="doc_header"><code>create_dir</code><a href="dl4to/utils.py#L62" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>create_dir</code>(<strong><code>name</code></strong>:<code>str</code>, <strong><code>path</code></strong>:<code>str</code>=<em><code>'.'</code></em>, <strong><code>prepend_date</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>
<p>Creates a new directory, optionally prepended with the current datetime. If the directory already exists, then nothing happens. Returns a string that is the path to the directory.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>name</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>The name of the directory that should be created.</td>
</tr>
<tr>
<td><strong><code>path</code></strong></td>
<td><code>str</code></td>
<td><code>.</code></td>
<td>The path where the directory should be created.</td>
</tr>
<tr>
<td><strong><code>prepend_date</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Whether to preprend the directory name with the date and time of its creation. Ensures unique directory names.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="save_dict_as_txt" class="doc_header"><code>save_dict_as_txt</code><a href="dl4to/utils.py#L81" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>save_dict_as_txt</code>(<strong><code>my_dict</code></strong>:<code>dict</code>, <strong><code>dir_path</code></strong>:<code>str</code>, <strong><code>file_name</code></strong>:<code>str</code>)</p>
</blockquote>
<p>Saves a python dictionary as a txt file.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>my_dict</code></strong></td>
<td><code>dict</code></td>
<td></td>
<td>The dictionary that should be saved.</td>
</tr>
<tr>
<td><strong><code>dir_path</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>The path where the directory should be saved.</td>
</tr>
<tr>
<td><strong><code>file_name</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>The name of the txt file that should be created.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="cast_to_problem" class="doc_header"><code>cast_to_problem</code><a href="dl4to/utils.py#L96" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>cast_to_problem</code>(<strong><code>problem_or_solution</code></strong>:<code>Union</code>[<code>ForwardRef('dl4to.problem.Problem')</code>, <code>ForwardRef('dl4to.solution.Solution')</code>])</p>
</blockquote>
<p>Accepts a problem or a solution object as input and returns a problem. If the input is a problem, then the problem is simply returned without modification.
If it is a solution, then <code>solution.problem</code> is returned.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>problem_or_solution</code></strong></td>
<td><code>typing.Union[ForwardRef('dl4to.problem.Problem'), ForwardRef('dl4to.solution.Solution')]</code></td>
<td></td>
<td>A problem or solution object.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="cast_to_solution" class="doc_header"><code>cast_to_solution</code><a href="dl4to/utils.py#L110" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>cast_to_solution</code>(<strong><code>problem_or_solution</code></strong>:<code>Union</code>[<code>ForwardRef('dl4to.problem.Problem')</code>, <code>ForwardRef('dl4to.solution.Solution')</code>])</p>
</blockquote>
<p>Accepts a problem or a solution object as input and returns a solution. If the input is a problem, then <code>problem.trivial_solution</code>.
If the input is a solution, then it is simply returned without modification.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>problem_or_solution</code></strong></td>
<td><code>typing.Union[ForwardRef('dl4to.problem.Problem'), ForwardRef('dl4to.solution.Solution')]</code></td>
<td></td>
<td>A problem or solution object.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="cast_to_problems" class="doc_header"><code>cast_to_problems</code><a href="dl4to/utils.py#L124" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>cast_to_problems</code>(<strong><code>problems_or_solutions</code></strong>:<code>list</code>)</p>
</blockquote>
<p>Accepts as input a list containing problem and solutions object. Returns a list that only contains problem objects, where the solution objects have been
transformed into problems via <code>solution.problem</code>.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>problems_or_solutions</code></strong></td>
<td><code>list</code></td>
<td></td>
<td>A list containing problem and solution objects.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="cast_to_solutions" class="doc_header"><code>cast_to_solutions</code><a href="dl4to/utils.py#L134" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>cast_to_solutions</code>(<strong><code>problems_or_solutions</code></strong>:<code>list</code>)</p>
</blockquote>
<p>Accepts as input a list containing problem and solutions object. Returns a list that only contains solution objects, where the problem objects have been
transformed into solutions via <code>problem.trivial_solution</code>.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>problems_or_solutions</code></strong></td>
<td><code>list</code></td>
<td></td>
<td>A list containing problem and solution objects.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_dataloader" class="doc_header"><code>get_dataloader</code><a href="dl4to/utils.py#L144" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_dataloader</code>(<strong><code>dataset</code></strong>:<code>dl4to.datasets.TopoDataset</code>, <strong><code>batch_size</code></strong>:<code>int</code>=<em><code>1</code></em>, <strong><code>shuffle</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>num_workers</code></strong>:<code>int</code>=<em><code>0</code></em>)</p>
</blockquote>
<p>Returns a <code>torch.utils.data.DataLoader</code> object for <code>dataset</code>.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>dataset</code></strong></td>
<td><code>dl4to.datasets.TopoDataset</code></td>
<td></td>
<td>The dataset for which the dataloader should be created.</td>
</tr>
<tr>
<td><strong><code>batch_size</code></strong></td>
<td><code>int</code></td>
<td><code>1</code></td>
<td>The batch size for the dataloader.</td>
</tr>
<tr>
<td><strong><code>shuffle</code></strong></td>
<td><code>bool</code></td>
<td><code>True</code></td>
<td>Whether the dataloader should shuffle the samples.</td>
</tr>
<tr>
<td><strong><code>num_workers</code></strong></td>
<td><code>int</code></td>
<td><code>0</code></td>
<td>The number of GPU workers, if trained on a GPU.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_σ_vm" class="doc_header"><code>get_σ_vm</code><a href="dl4to/utils.py#L162" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_σ_vm</code>(<strong><code>σ</code></strong>:<code>Tensor</code>, <strong><code>ε</code></strong>:<code>float</code>=<em><code>1e-09</code></em>)</p>
</blockquote>
<p>Calculates the von Mises stresses from the 9-channel stress tensor <code>σ</code> and returns them in a 1-channel <code>torch.Tensor</code> object.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>σ</code></strong></td>
<td><code>Tensor</code></td>
<td></td>
<td>The stress tensor from which the von Mises stresses should be computed.</td>
</tr>
<tr>
<td><strong><code>ε</code></strong></td>
<td><code>float</code></td>
<td><code>1e-09</code></td>
<td>A small value that ensures numerically stable results.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

</div>
 

