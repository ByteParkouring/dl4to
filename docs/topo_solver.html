---

title: Topo solver


keywords: fastai
sidebar: home_sidebar



nb_path: "notebooks/topo_solvers/2_topo_solver.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: notebooks/topo_solvers/2_topo_solver.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TopoSolver" class="doc_header"><code>class</code> <code>TopoSolver</code><a href="dl4to/topo_solvers.py#L318" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TopoSolver</code>(<strong><code>device</code></strong>:<code>str</code>=<em><code>'cpu'</code></em>, <strong><code>name</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>trainable</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>differentiable</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>
<p>A parent class that inherits all kinds of topo solvers, i.e., algorithms that solve the topology optimization task.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>device</code></strong></td>
<td><code>str</code></td>
<td><code>cpu</code></td>
<td>The device of the topo solver. Can bei either "cpu" or "cuda".</td>
</tr>
<tr>
<td><strong><code>name</code></strong></td>
<td><code>str</code></td>
<td><code>None</code></td>
<td>The name of the topo solver.</td>
</tr>
<tr>
<td><strong><code>trainable</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Whether the topo solver is trainable.</td>
</tr>
<tr>
<td><strong><code>differentiable</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Whether the topo solver is differentiable.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="TopoSolver.to" class="doc_header"><code>TopoSolver.to</code><a href="dl4to/topo_solvers.py#L344" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>TopoSolver.to</code>(<strong><code>device</code></strong>:<code>str</code>)</p>
</blockquote>
<p>Move the topo solver to <code>device</code>.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>device</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>The device of the topo solver. Can bei either "cpu" or "cuda".</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="TopoSolver.cuda" class="doc_header"><code>TopoSolver.cuda</code><a href="dl4to/topo_solvers.py#L353" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>TopoSolver.cuda</code>()</p>
</blockquote>
<p>Move the topo solver to <code>cuda</code>.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="TopoSolver.cpu" class="doc_header"><code>TopoSolver.cpu</code><a href="dl4to/topo_solvers.py#L360" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>TopoSolver.cpu</code>()</p>
</blockquote>
<p>Move the topo solver to <code>cpu</code>.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="TopoSolver.clone" class="doc_header"><code>TopoSolver.clone</code><a href="dl4to/topo_solvers.py#L377" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>TopoSolver.clone</code>()</p>
</blockquote>
<p>Return a <code>dl4to.topo_solvers.TopoSolver</code> object, which is clone of the current topo solver.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="TopoSolver.__call__" class="doc_header"><code>TopoSolver.__call__</code><a href="dl4to/topo_solvers.py#L406" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>TopoSolver.__call__</code>(<strong><code>problems_or_solutions</code></strong>:<code>list</code>, <strong><code>eval_mode</code></strong>:<code>bool</code>=<em><code>True</code></em>)</p>
</blockquote>
<p>Perform a forward pass of the topo solver. Expects a list of problems or solutions.
Returns a <code>dl4to.solution.Solution</code> object or a list of solutions, if the input was also a list.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>problems_or_solutions</code></strong></td>
<td><code>list</code></td>
<td></td>
<td>A list containing problem and solution objects.</td>
</tr>
<tr>
<td><strong><code>eval_mode</code></strong></td>
<td><code>bool</code></td>
<td><code>True</code></td>
<td>Determines whether to calculate gradients for the backwards pass or not. If <code>True</code>, then no gradients are calculated.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="TopoSolver.eval" class="doc_header"><code>TopoSolver.eval</code><a href="dl4to/topo_solvers.py#L423" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>TopoSolver.eval</code>(<strong><code>root</code></strong>:<code>str</code>, <strong><code>criteria</code></strong>:<code>list</code>, <strong><code>dataloader</code></strong>:<code>DataLoader</code>)</p>
</blockquote>
<p>Evalate criteria with outputs from the topo solver. Returns a <code>collections.defaultdict</code> dictionary.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>root</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>The root directory where the evaluation results are saved.</td>
</tr>
<tr>
<td><strong><code>criteria</code></strong></td>
<td><code>list</code></td>
<td></td>
<td>A list of <code>dl4to.criteria.Criterion</code> objects that are used for the evaluation.</td>
</tr>
<tr>
<td><strong><code>dataloader</code></strong></td>
<td><code>DataLoader</code></td>
<td></td>
<td>The dataloader that is used for retrieving the validation data.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="TopoSolver.plot_first_solutions_from_dataloader" class="doc_header"><code>TopoSolver.plot_first_solutions_from_dataloader</code><a href="dl4to/topo_solvers.py#L443" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>TopoSolver.plot_first_solutions_from_dataloader</code>(<strong><code>root</code></strong>:<code>str</code>, <strong><code>n_plots</code></strong>:<code>int</code>, <strong><code>dataloader</code></strong>:<code>DataLoader</code>, <strong><code>camera_position</code></strong>:<code>Union</code>[<code>tuple</code>, <code>list</code>]=<em><code>(0, 0.1, 0.12)</code></em>, <strong><code>export_png</code></strong>:<code>bool</code>=<em><code>True</code></em>)</p>
</blockquote>
<p>Saves <code>n_plots</code> plots of solutions obtained via the topo_solver from problems from the dataloader.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>root</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>The root where the plots should be saved.</td>
</tr>
<tr>
<td><strong><code>n_plots</code></strong></td>
<td><code>int</code></td>
<td></td>
<td>The number of solutions to plot.</td>
</tr>
<tr>
<td><strong><code>dataloader</code></strong></td>
<td><code>DataLoader</code></td>
<td></td>
<td>The dataloader that is used to obtain the data.</td>
</tr>
<tr>
<td><strong><code>camera_position</code></strong></td>
<td><code>typing.Union[tuple, list]</code></td>
<td><code>(0, 0.1, 0.12)</code></td>
<td>x, y, and z coordinates of the camera position.</td>
</tr>
<tr>
<td><strong><code>export_png</code></strong></td>
<td><code>bool</code></td>
<td><code>True</code></td>
<td>Whether the figure is exported and saved as a png file, in addition to the standard html format.</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

